# veloportμ™€ ν•¨κ»ν•λ” λ¨λ λ¦¬μ•΅νΈ

## 5μ¥ - λ¦¬μ•΅νΈ Router

### λ¦¬μ•΅νΈ λΌμ°ν„° λ¶€κ°€κΈ°λ¥

> **history κ°μ²΄**

- router μΆ…λ¥μ— λ”°λΌ(browser, hash, memory) history κ°μ²΄λ„ λ‹¤λ¥΄λ‹¤.
- history κ°μ²΄μ ν”„λ΅νΌν‹°λ” λ‹¤μκ³Ό κ°™λ‹¤.
  - length(number) : history μ¤νƒμ— μλ” μ—”νΈλ¦¬ μ
  - action(string) : ν„μ¬ action(PUSH, REPLACE, POP) **π‘‰π» POP : λ’¤λ΅κ°€κΈ°λ‚ μ•μΌλ΅κ°€κΈ°λ¥Ό ν–μ„ λ• λ°μƒν•λ” μ΄λ²¤νΈ**
  - location(object) : ν„μ¬ μ„μΉ
    - pathname(string): URL κ²½λ΅
    - search(string) : URL μΏΌλ¦¬μ¤νΈλ§
    - hash(string) : URL ν•΄μ‹ μ„Έκ·Έλ¨ΌνΈ
    - state(object) : browser, memory λΌμ°ν„°μ—μ„λ§ μ‚¬μ©κ°€λ¥ν• location-specific state
  - push(path, [state])(function) : μƒλ΅μ΄ μ—”νΈλ¦¬λ¥Ό history μ¤νƒμ— pushν•λ‹¤. **π‘‰π» λ°©λ¬ΈκΈ°λ΅μ— λ‹΄μ•„μ§„λ‹¤**
  - replace(path, [state])(function) : history μ¤νƒμ—μ„ ν„μ¬ μ—”νΈλ¦¬λ¥Ό κµμ²΄ν•λ‹¤.
    **π‘‰π» λ°©λ¬ΈκΈ°λ΅μ„ μ¶”κ°€ν•μ§€ μ•κ³  ν„μ¬ νμ΄μ§€λ΅ ν„μ¬ topκ°’μ„ κµμ²΄ν•λ‹¤, λ”°λΌμ„ μ›λ λ°©λ¬Έν•κ³  μλ νμ΄μ§€λ” history μ¤νƒμ—μ„ μ‚¬λΌμ§„λ‹¤**
  - go(n)(function) : history μ¤νƒμ—μ„ nκ° λ§νΌμ μ—”νΈλ¦¬ λ§νΌ ν¬μΈν„°λ¥Ό μ΄λ™ν•λ‹¤.
  - goBack()(function) : go(-1)ν•κ²ƒκ³Ό κ°™λ‹¤.
  - goForward()(function) : go(1)ν•κ²ƒκ³Ό κ°™λ‹¤.
  - block(prompt)(function) : λ„¤λΉ„κ²μ΄μ… μ‘λ™μ„ λ§‰λ”λ‹¤. **π‘‰π» ν™”λ©΄ μ΄νƒμ„ λ°©μ§€ν•λ‹¤**
- routerλ΅ μ‚¬μ©λλ” μ»΄ν¬λ„νΈμ— propsλ΅ μ „λ‹¬λλ‹¤.
- μ»΄ν¬λ„νΈμ—μ„ λΌμ°ν„°μ— μ§μ ‘μ  μ ‘κ·Όμ΄ κ°€λ¥ν•λ‹¤.
- history.locationμ€ κ³„μ† λ³€ν•κΈ°(mutable) λ•λ¬Έμ—, ν„μ¬ μ„μΉλ¥Ό μ°Έμ΅°ν•  λ•λ” Routeμ location κ°μ²΄λ¥Ό μ°Έμ΅°ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.
- μμ„Έν• μμ‹μ™€ λ‚΄μ©μ€ [μ΄κ³³](https://reactrouter.com/web/api/history)μ„ μ°Έκ³ ν•μ.

> **`<WithRouter>`**

- withRouter μƒμ„ μ»΄ν¬λ„νΈλ¥Ό ν†µν•΄ history κ°μ²΄μ ν”„λ΅νΌν‹°μ™€ Route μ»΄ν¬λ„νΈμ match κ°μ²΄μ— μ ‘κ·Όν•  μ μλ‹¤.
- withRouterλ΅ κ°μ‹Ό μ»΄ν¬λ„νΈκ°€ λ λ”λ§λ  λ•λ§λ‹¤ μ—…λ°μ΄νΈ λ match, location, history propsκ°€ μ£Όμ–΄μ§„λ‹¤.
- withRouterλ” locationμ λ³€ν™”λ¥Ό μ°Έμ΅°ν•μ§€ μ•λ”λ‹¤. (Reduxμ—μ„ state λ³€ν™”λ¥Ό μ—°λ™ν•μ§€ μ•λ” μ›λ¦¬μ™€ λΉ„μ·)
- λ€μ‹ , locationμ΄ λ°”λ€ ν›„ Route μ»΄ν¬λ„νΈμ— μ „νλλ©΄ λ¦¬λ λ”λ§λλ‹¤. μ¦‰, withRouterλ” λ¶€λ¨ κµ¬μ„± μ”μ†κ°€ λ‹¤μ‹ λ λ”λ§λμ§€ μ•λ” ν• κ²½λ΅ μ „ν™μ‹ λ‹¤μ‹ λ λ”λ§ν•μ§€ μ•λ”λ‹¤.
- **π‘‰π» λΌμ°νΈ μ»΄ν¬λ„νΈκ°€ μ•„λ‹κ³³μ—μ„ match / location / history λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•  λ• μ“°λ©΄ λλ‹¤**
- μμ„Έν• μμ‹μ™€ λ‚΄μ©μ€ [μ΄κ³³](https://reactrouter.com/web/api/withRouter)μ„ μ°Έκ³ ν•μ.

> **`<Switch>`**

- ν„μ¬ locationμ— λ§λ” μ²« λ²μ§Έ μμ‹μΈ `<Route>` λλ” `<Redirect>`μ»΄ν¬λ„νΈλ¥Ό λ λ”λ§ν•λ‹¤.
- λ‹¨μν Routeμ»΄ν¬λ„νΈλ§ μ„ μ–Έν•΄μ„ μ“°λ” κ²ƒκ³Όμ λ‹¤λ¥Έμ μ€ Routeλ¥Ό λ…μ μ μΌλ΅ λ λ”λ§ν•λ‹¤λ” κ²ƒμ΄λ‹¤.
- `<Route>`μ»΄ν¬λ„νΈλ” ν•΄λ‹Ή locationμ— λ§λ” λ¨λ“  Routeλ¥Ό ν¬κ΄„μ μΌλ΅ λ λ”λ§ν•λ‹¤.
- Routing ν•μ§€ μ•μ€ νμ΄μ§€λ¥Ό λ°©λ¬Έν–μ„ λ• pathκ°€ μ—†λ” Route μ»΄ν¬λ„νΈλ¥Ό μ‘μ„±ν•΄, 404 status code λ€μ‘ νμ΄μ§€λ¥Ό λ λ”λ§ν•  μ μλ‹¤.
- μΌμΉν•λ” `<Route>`μ»΄ν¬λ„νΈκ°€ μ΄μ „ μ„μΉμ™€ λ™μΌν• κ³³μ—μ„ λ λ”λ§λκΈ° λ•λ¬Έμ—, μ• λ‹λ©”μ΄μ… μ „ν™μ—λ„ μ μ©ν•λ‹¤.
- μμ„Έν• μμ‹μ™€ λ‚΄μ©μ€ [μ΄κ³³](https://reactrouter.com/web/api/Switch)μ„ μ°Έκ³ ν•μ.

> **`<NavLink>`**

- `<Link>`μ νΉμν• λ²„μ „μΌλ΅ ν„μ¬ URLμ΄ μ§€μ •ν• κ²½λ΅μ™€ κ°™μ„ λ•, μ¤νƒ€μΌλ§ μ†μ„±μ„ μ¶”κ°€ν•΄μ„ νƒκ·Έ μ”μ†μ— λ λ”λ§ν•  μ μλ‹¤.
- `activeClassName`, `activeStyle`λ΅ ν•΄λ‹Ή ν”„λ΅νΌν‹°μ— μ ‘κ·Ό λ° μ¤νƒ€μΌμ„ μ§€μ •ν•  μ μλ‹¤.
- μμ„Έν• μμ‹μ™€ λ‚΄μ©μ€ [μ΄κ³³](https://reactrouter.com/web/api/NavLink)μ„ μ°Έκ³ ν•μ.

> **`<Redirect>`**

- μƒλ΅μ΄ locationμ„ νƒμ§€ν•΄μ„ λ λ”λ§ν•λ‹¤. μƒλ΅μ΄ locationμ€ ν„μ¬ locationμ hisory μ¤νƒμ— μ¤λ²„λΌμ΄λ”©λλ‹¤. μ„λ²„ μ‚¬μ΄λ“μ—μ„ HTTP 3.XX(redirect) μ‘λ‹µμ½”λ“μ— λ€μ‘ν•λ” λ°©μ‹κ³Ό μ μ‚¬ν•λ‹¤.
- κΈ°λ³Έ actionμ΄ replace μ§€λ§, `push(boolean)` ν”„λ΅νΌν‹°λ¥Ό μ΅°μ •ν•΄, actionμ€ pushλ΅ λ³€κ²½ν•  μ μλ‹¤.
- `to` ν”„λ΅νΌν‹°μ— λ¦¬λ‹¤μ΄λ ‰νΈν•  κ²½λ΅λ¥Ό λ„£μ–΄μ¤€λ‹¤. string, object λ°©μ‹μΌλ΅ λ„£μ„ μ μλ‹¤.
- `from` ν”„λ΅νΌν‹°λ¥Ό μ§€μ •ν•΄ μ¶λ°μ μ„ μ§€μ •ν•  μ μλ‹¤.
- μμ„Έν• μμ‹μ™€ λ‚΄μ©μ€ [μ΄κ³³](https://reactrouter.com/web/api/Redirect)μ„ μ°Έκ³ ν•μ.

> **`<Prompt>`**

- history.blockμ μ»΄ν¬λ„νΈ λ²„μ „μ΄λ‹¤.
- π‘‰π» ν„μ¬ νμ΄μ§€λ¥Ό λ²—μ–΄λ‚μ§€ μ•λ„λ΅ λ°©μ§€ν•λ‹¤.

> **Route Config**

- μ¤‘μ•™ μ§‘μ¤‘ν• λΌμ°ν„° κµ¬μ΅°μ΄λ‹¤.
- routing μ •λ³΄λ¥Ό ν• κ³³μ— λ°°μ—΄ ν•νƒλ΅ μ •μν•΄, ν•λ²μ— Routingν•λ” λ°©μ‹μ΄λ‹¤.
- λ°°μ—΄μ—λ” pathμ™€ component μ •λ³΄λ¥Ό λ„£μΌλ©°, Switch λ‚΄λ¶€μ—μ„ μ„ μ–Έν•λ” μμ„λ€λ΅ μ •λ ¬ν•΄ κΈ°μ…ν•΄μ•Όν•λ‹¤.
- Angular, Vueμ—μ„ λ³΄ν†µ μ“°λ” λ°©μ‹μ΄λ‹¤.
- μμ„Έν• μμ‹μ™€ λ‚΄μ©μ€ [μ΄κ³³](https://reactrouter.com/web/example/route-config)μ„ μ°Έκ³ ν•μ.

## Reference

- λ²¨λ΅νΌνΈμ™€ ν•¨κ»ν•λ” λ¨λ λ¦¬μ•΅νΈ - 5μ¥ <https://react.vlpt.us/react-router/04-extra.html>
  <br>

[π‘π»PREV](https://github.com/ss-won/veloport-react) |
[NEXTπ‘‰π»](https://github.com/ss-won/veloport-react/blob/master/Ch5/2.md) <br>
[λμ•„κ°€κΈ°](https://github.com/ss-won/veloport-react)
