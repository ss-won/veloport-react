# veloportì™€ í•¨ê»˜í•˜ëŠ” ëª¨ë˜ ë¦¬ì•¡íŠ¸

## 5ì¥ - ë¦¬ì•¡íŠ¸ Router

### íŒŒë¼ë¯¸í„°ì™€ ì¿¼ë¦¬ì˜ ì°¨ì´ ì•Œì•„ë³´ê¸°

> **íŒŒë¼ë¯¸í„°ì™€ ì¿¼ë¦¬**

- URL Parameter
  - ì¼ë°˜ì ìœ¼ë¡œ ì •í•´ì§„ íŠ¹ì • ë°ì´í„°(id, name)ë¥¼ ê°€ì§€ê³  ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•œë‹¤.
  - ğŸ‘‰ğŸ» **[EX] `/profile/ss-won`**
- Query
  - ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ì–‘í•œ ì˜µì…˜(í‚¤ì›Œë“œ, ì§ˆì˜ ì˜µì…˜)ì„ ì£¼ê³  ì§ˆì˜ë¥¼ í• ë•Œ ë§ì´ ì‚¬ìš©í•œë‹¤.
  - ğŸ‘‰ğŸ» **[EX] `/filter?type=book&sort_by=date`**

<hr><br>

> **match ê°ì²´ë¥¼ í™œìš©í•´ íŒŒë¼ë¯¸í„°ë¡œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°** <br>

**match**

- react-routerì—ì„œ match ê°ì²´ëŠ” <Rout path>ë¡œ ë Œë”ë§ëœ í˜„ì¬ ìœ„ì¹˜ì˜ URL ì •ë³´ë¥¼ ê°€ì§„ ê°ì²´ì´ë‹¤.
- match ê°ì²´ì˜ í”„ë¡œí¼í‹°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
  - params(object) : URL ê²½ë¡œì˜ ë™ì  ì„¸ê·¸ë¨¼íŠ¸ ë¶€ë¶„ì—ì„œ íŒŒì‹±ëœ Key/value pairs.
  - isExact(boolean) : ì „ì²´ URLì´ Routeì— ë“±ë¡í•œ pathì™€ ì¼ì¹˜í•œë‹¤ë©´ true, ì•„ë‹ˆë©´ false.
  - path(string) : match íŒë‹¨ì— ì“°ì´ëŠ” ê²½ë¡œ íŒ¨í„´ìœ¼ë¡œ ì¤‘ì²©ëœ Route êµ¬ì¶•ì— ìœ ìš©í•˜ë‹¤.
  - url(string) : matchedëœ URL ë¶€ë¶„ì˜ ë¬¸ìì—´ë¡œ ì¤‘ì²©ëœ Linkë¥¼ êµ¬í˜„í•˜ëŠ”ë° ìœ ìš©í•˜ë‹¤.
    <br>

**EXAMPLE**

- ì•„ë˜ ì˜ˆì œëŠ” íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì˜¨ keyê°’ì„ match ê°ì²´ì˜ paramsë¡œ ê°€ì ¸ì™€ ì´ì— í•´ë‹¹í•˜ëŠ” profile ì •ë³´ë¥¼ ë Œë”ë§ í•´ì£¼ëŠ” ê²ƒì´ë‹¤.

```javascript
// src/Profile.js
import React from "react";

const profileData = {
  sswon: {
    name: "wish",
    description: "Maniac",
  },
  ryan: {
    name: "snowball",
    description: "Rabbit",
  },
};

function Profile({ match }) {
  // paramsë¡œ íŒŒë¼ë¯¸í„°ì— ìˆëŠ” keyê°’ì„ íŒŒì‹±í•´ ê°€ì ¸ì˜¨ë‹¤.
  const { username } = match.params;
  // í•´ë‹¹ keyê°’ì— í•´ë‹¹í•˜ëŠ” ì‚¬ìš©ì í”„ë¡œí•„ ê°ì²´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
  const profile = profileData[username];

  if (!profile) {
    return <div>ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ìì…ë‹ˆë‹¤.</div>;
  }
  return (
    <div>
      <h3>
        {username} ({profile.name})
      </h3>
      <p>{profile.description}</p>
    </div>
  );
}

export default Profile;
```

```javascript
// src/App.js
import React from "react";
import { Route, Link } from "react-router-dom";
import About from "./About";
import Home from "./Home";
import Profile from "./Profile";

// íŒŒë¼ë¯¸í„°ì— ëŒ€í•œ(:username) URI Routingì„ í•´ì¤€ë‹¤.
const App = () => {
  return (
    <BrowserRouter>
      <div>
        <ul>
          <li>
            <Link to="/">í™ˆ</Link>
          </li>
          <li>
            <Link to="/about">ì†Œê°œ</Link>
          </li>
        </ul>
        <hr />
        <Route path="/" exact={true} component={Home} />
        <Route path="/about" component={About} />
        <Route path="/profiles/:username" component={Profile} />
      </div>
    </BrowserRouter>
  );
};

export default App;
```

<hr><br>

> **qs ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ, query ë°›ì•„ì˜¤ê¸°**

**query == location.search**

- queryëŠ” react-routerì˜ location ê°ì²´ì—ì„œ, search í”„ë¡œí¼í‹°ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.
- ë‹¨, search í”„ë¡œí¼í‹° ê°’ì€ ë¬¸ìì—´ì´ë¯€ë¡œ í•´ë‹¹ ë¬¸ìë¥¼ ì§ì ‘ íŒŒì‹±í•´ì„œ ê°ì²´ë¡œ ì‚¬ìš©í•´ì•¼í•œë‹¤.

```javascript
{
  key: 'ac3df4', // not with HashHistory!
  pathname: '/somewhere',
  search: '?some=search-string',
  hash: '#howdy',
  state: {
    [userDefined]: true
  }
}
```

- qs ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´, queryë¥¼ ì‰½ê²Œ ê°ì²´ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

**EXAMPLE**

- ì•„ë˜ ì˜ˆì œëŠ” qsë¡œ ì¿¼ë¦¬ë¬¸ì„ íŒŒì‹±í•´ í•´ë‹¹ ë‚´ìš©ì— ëŒ€í•´ ì¡°ê±´ë¶€ ë Œë”ë§í•˜ëŠ” ê²ƒì´ë‹¤.

```javascript
import React from "react";
import qs from "qs";

const About = ({ location }) => {
  const query = qs.parse(location.search, {
    // í•´ë‹¹ ì˜µì…˜ì„ trueë¡œ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ?ë¥¼ í¬í•¨í•œ ê°’ì´ íŒŒì‹±ëœë‹¤.
    ignoreQueryPrefix: true,
  });
  const detail = query.detail === "true"; // ì¿¼ë¦¬ì˜ íŒŒì‹±ê²°ê³¼ê°’ì€ ë¬¸ìì—´ì…ë‹ˆë‹¤.

  return (
    <div>
      <h1>ì†Œê°œ</h1>
      <p>ì´ í”„ë¡œì íŠ¸ëŠ” ë¦¬ì•¡íŠ¸ ë¼ìš°í„° ê¸°ì´ˆë¥¼ ì‹¤ìŠµí•´ë³´ëŠ” ì˜ˆì œ í”„ë¡œì íŠ¸ëë‹ˆë‹¤.</p>
      {detail && <p>ì¶”ê°€ì ì¸ ì •ë³´ê°€ ì–´ì©Œê³  ì €ì©Œê³ ..</p>}
    </div>
  );
};

export default About;
```

## Reference

- ë²¨ë¡œí¼íŠ¸ì™€ í•¨ê»˜í•˜ëŠ” ëª¨ë˜ ë¦¬ì•¡íŠ¸ - 5ì¥ <https://react.vlpt.us/react-router/02-params-and-query.html>
- react-router documentation - Web-api <https://reactrouter.com/web/api/match>
  <br>

[ğŸ‘ˆğŸ»PREV](https://github.com/ss-won/veloport-react) |
[NEXTğŸ‘‰ğŸ»](https://github.com/ss-won/veloport-react/blob/master/Ch5/2.md) <br>
[ëŒì•„ê°€ê¸°](https://github.com/ss-won/veloport-react)
