# veloportì™€ í•¨ê»˜í•˜ëŠ” ëª¨ë˜ ë¦¬ì•¡íŠ¸

## 1ì¥ - ë¦¬ì•¡íŠ¸ ì…ë¬¸

### Classí˜• ì»´í¬ë„ŒíŠ¸ ì‘ì„±í•˜ê¸°

> **Classí˜• ì»´í¬ë„ŒíŠ¸**

- í˜„ì¬ëŠ” í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©ë˜ê³  ìˆê¸° ë•Œë¬¸ì—, ì´ì „ ë²„ì „ì„ ê´€ë¦¬í• ë•Œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.
- ê¸°ë³¸ì ìœ¼ë¡œ Component ê°ì²´ë¥¼ ìƒì†í•˜ëŠ” í˜•íƒœë¡œ ì‘ì„±í•˜ë©°, render í•¨ìˆ˜ ë‚´ë¶€ì— ë Œë”ë§ ë  ë‚´ìš©ì„ JSXë¡œ ì‘ì„±í•œë‹¤.

```javascript
import React, { Component } from "react";

class Hello extends Component {
  // props ê¸°ë³¸ê°’ ì„¤ì •
  static defaultProps = {
    name: "ì´ë¦„ì—†ìŒ",
  };
  // render í•¨ìˆ˜
  render() {
    const { color, name, isSpecial } = this.props;
    return (
      <div style={{ color }}>
        {isSpecial && <b>*</b>}
        ì•ˆë…•í•˜ì„¸ìš” {name}
      </div>
    );
  }
}

export default Hello;
```

<br>

> **Custom Method ì‘ì„±í•˜ê¸°**

ì•„ë˜ ì²« ë²ˆì§¸ ì˜ˆì‹œëŠ”, +1, -1 ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ stateê°’ì„ ë³€í™”ì‹œí‚¤ëŠ” Custom function(onIncrease, onDecrease)ë¥¼ ë‚˜íƒ€ë‚´ê³  ìˆë‹¤.

```javascript
// í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œì˜ Custom Method
import React, { useReducer } from "react";

function reducer(state, action) {
  switch (action.type) {
    case "INCREMENT":
      return state + 1;
    case "DECREMENT":
      return state - 1;
    default:
      return state;
  }
}

function Counter() {
  const [number, dispatch] = useReducer(reducer, 0);

  // Custom Method 1 - Increase
  const onIncrease = () => {
    dispatch({ type: "INCREMENT" });
  };
  // Custom Method 2 - Decrease
  const onDecrease = () => {
    dispatch({ type: "DECREMENT" });
  };

  return (
    <div>
      <h1>{number}</h1>
      <button onClick={onIncrease}>+1</button>
      <button onClick={onDecrease}>-1</button>
    </div>
  );
}

export default Counter;
```

í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ì„ ê°€ì§„ ì»¤ìŠ¤í…€ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ”,

1. ë¨¼ì € ë©”ì†Œë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„ ì–¸í•œë‹¤.

```javascript
// í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œì˜ Custom Method
import React, { Component } from "react";

class Counter extends Component {
  // Custom Method 1 - handleIncrease
  handleIncrease() {
    console.log("increase");
  }
  // Custom Method 2 - handleDecrease
  handleDecrease() {
    console.log("decrease");
  }

  render() {
    return (
      <div>
        <h1>0</h1>
        {/* í´ë˜ìŠ¤ì—ì„œ thisëŠ” í˜„ì¬ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤ */}
        <button onClick={this.handleIncrease}>+1</button>
        <button onClick={this.handleDecrease}>-1</button>
      </div>
    );
  }
}

export default Counter;
```

2. stateë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ì„œ constuctor í•¨ìˆ˜ë¥¼ ì„ ì–¸í•œë‹¤.

- stateê°’ì€ ë°˜ë“œì‹œ ê°ì²´ì—¬ì•¼ í•œë‹¤.
- ì»¤ìŠ¤í…€ ë©”ì†Œë“œ ë‚´ë¶€ì˜ thisëŠ”, ë Œë”ë§ ëœ í›„ í•´ë‹¹ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ì§€ ì•ŠëŠ”ë‹¤. í•´ë‹¹ ê°ì²´ì™€ì˜ ì—°ê²°ì´ ëŠì–´ì§€ê¸° ë•Œë¬¸ì´ë‹¤.(ì¶”ê°€ ê³µë¶€ ì‚¬í•­ : JavaScript this)
- ì´ë¥¼ í•´ê²°í•´ì£¼ê¸° ìœ„í•´ì„œ 3ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.
  - constructor í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ this ë°”ì¸ë”©
  - constructor í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ìƒíƒœ ì„ ì–¸í•˜ê³  í™”ì‚´í‘œ í•¨ìˆ˜ ì‚¬ìš©
  - constructor ì„ ì–¸ ì—†ì´ babelì˜ class propery ë¬¸ë²• í™œìš©í•˜ê¸°

```javascript
import React, { Component } from "react";

class Counter extends Component {
  // constructor ì—†ì´ë„ ë‹¤ìŒê³¼ ê°™ì´ ì„ ì–¸í•˜ê³ , babel ë¬¸ë²•ì„ ì ìš©í•˜ë©´
  // ì˜ë„í•œëŒ€ë¡œ state ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.
  /*
  state = {
    counter: 0,
    fixed: 1
  };
  */
  constructor(props) {
    super(props);
    this.state = {
      counter: 0,
    };
    // ë˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ bindë¡œ thisë¥¼ ë¬¶ì–´ì£¼ëŠ” ê²ƒë„ ë°©ë²•ì´ë‹¤. (ë°©ë²• 1)
    // this.handleIncrease = this.handleIncrease.bind(this)
    // this.handleDecrease = this.handleDecrease.bind(this)
  }
  // ì»¤ìŠ¤í…€ ë©”ì†Œë“œ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ì„ ì–¸í•˜ê¸°(class properyì— í•´ë‹¹í•œë‹¤ê³  í•œë‹¤) (ë°©ë²• 2)
  handleIncrease = () => {
    this.setState({
      counter: this.state.counter + 1,
    });
    console.log(this); // í•´ë‹¹ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
  };

  handleDecrease = () => {
    this.setState({
      counter: this.state.counter - 1,
    });
  };

  render() {
    return (
      <div>
        <h1>{this.state.counter}</h1>
        <button onClick={this.handleIncrease}>+1</button>
        <button onClick={this.handleDecrease}>-1</button>
      </div>
    );
  }
}

export default Counter;
```

> **React.setState**

- setState ë‚´ë¶€ì— ì „ë‹¬ëœ ê°ì²´ë§Œ ì—…ë°ì´íŠ¸ í•œë‹¤.(ë‹¤ë¥¸ ê°’ì€ ì—…ë°ì´íŠ¸ ì•Šê³  this.state ê°’ ìœ ì§€)
- setStateëŠ” ë¹„ë™ê¸°ë¡œ ë³€í™”ê°’ì´ ì ìš©ë˜ê¸° ë•Œë¬¸ì—, setStateì—ì„œ state ë°˜ì˜ì„ ë°”ë¡œ ì ìš©í•˜ê³  ì‹¶ìœ¼ë©´, ë‚´ë¶€ ê°ì²´ë¥¼ í•¨ìˆ˜í˜•ìœ¼ë¡œ ì‘ì„±í•˜ë©´ ëœë‹¤.
- setStateëŠ” ë‹¨ìˆœíˆ ìƒíƒœë¥¼ ë°”ê¾¸ëŠ” í•¨ìˆ˜ê°€ ì•„ë‹ˆë¼ ìƒíƒœë¡œ ë°”ê¿”ë‹¬ë¼ê³  ìš”ì²­í•´ì£¼ëŠ” í•¨ìˆ˜ì´ê³ , ì„±ëŠ¥ì ì¸ ì´ìœ  ë•Œë¬¸ì— ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ìƒíƒœê°€ ë°”ë¡œ ì—…ë°ì´íŠ¸ ë˜ì§€ ì•Šê³  ë¹„ë™ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ëœë‹¤.

```javascript
this.setState((state) => ({
  counter: state.counter + 1,
}));
```

## Reference

<https://react.vlpt.us/basic/24-class-component.html> <br>
<https://ko.reactjs.org/docs/react-component.html#setstate>
<br>

[ğŸ‘ˆğŸ»PREV](https://github.com/ss-won/veloport-react/blob/master/Ch1/15.md) |
[NEXTğŸ‘‰ğŸ»](https://github.com/ss-won/veloport-react/blob/master/Ch1/17.md) <br>
[ëŒì•„ê°€ê¸°](https://github.com/ss-won/veloport-react)
