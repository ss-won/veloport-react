# veloportì™€ í•¨ê»˜í•˜ëŠ” ëª¨ë˜ ë¦¬ì•¡íŠ¸
## 1ì¥ - ë¦¬ì•¡íŠ¸ ì…ë¬¸
### ë°°ì—´ ê°’ ê°±ì‹ í•˜ê¸°
> __(1)ë°°ì—´ì— ê°’ ì¶”ê°€í•˜ê¸°__
- ë°°ì—´ì˜ ë¶ˆë³€ì„±ì„ ì§€ì¼œì£¼ë©´ì„œ ê°’ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.
    - ë°°ì—´ ë‚´ì¥ í•¨ìˆ˜ concatì„ ì‚¬ìš©í•œë‹¤
    - ì „ê°œêµ¬ë¬¸(spread syntax)ì„ ì‚¬ìš©í•œë‹¤.
    ```javascript
    // src/App.js
    const nextId = useRef(4);
    const onCreate = () => {
        const u = {
          id: nextId.current,
          username,
          email
        }
        // ë°°ì—´ì— ìƒˆë¡œìš´ ê°’ì„ ì¶”ê°€í•  ë•ŒëŠ” 
        // spread ì—°ì‚°ì„ ì´ìš©í•´ë„ ë˜ê³ , concat í•¨ìˆ˜ë¥¼ ì´ìš©í•´ë„ ë¨
        setuser([...user, u]);
        console.log(nextId.current);
        // ê°’ì´ ë°”ë€Œì–´ë„ ì»´í¬ë„ŒíŠ¸ê°€ rerendering ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
        nextId.current += 1;
        setInputs({
          username: '',
          email: ''
        })
  }

    ```
> __(2)ë°°ì—´ì— ìˆëŠ” ë‚´ë¶€ ê°’ ìˆ˜ì •í•˜ê¸°__
- ë°°ì—´ì˜ ë¶ˆë³€ì„±ì„ ì§€í‚¤ë©´ì„œ ìˆ˜ì •í•´ì•¼ í•œë‹¤.
    - ë°°ì—´ ë‚´ì¥ í•¨ìˆ˜ mapì„ ì´ìš©í•œë‹¤.
    ```javascript
    // src/App.js
    const onToggle = (id) => {
        setuser(user.map(u=>u.id === id 
        ? {...u, active: !u.active}
        : u
        ));
    }
    ```
> __(3)ë°°ì—´ì— ìˆëŠ” ê°’ ì‚­ì œí•˜ê¸°__
- ë°°ì—´ì˜ ë¶ˆë³€ì„±ì„ ì§€í‚¤ë©´ì„œ ê°’ì„ ì‚­ì œí•´ì•¼ í•œë‹¤.
    - ë°°ì—´ ë‚´ì¥ í•¨ìˆ˜ filterë¥¼ ì‚¬ìš©í•œë‹¤.
    ```javascript
    // src/App.js
    const onRemove = (id) => {
        setuser(user.filter(u=>u.id!==id));
    }
    ```
<br><br>
<hr>
ì•„ë˜ëŠ” input ë‘ê°œì— ê°ê° username, emailë¥¼ ì…ë ¥í•˜ì—¬ user ë°°ì—´ì„ ê°±ì‹ (ìƒì„±, ìˆ˜ì •, ì‚­ì œ)í•˜ëŠ” ì˜ˆì œì´ë‹¤.

```javascript
// src/App.js
import React, { useState, useRef } from 'react';
import UserList from './UserList';
import CreateUser from './CreateUser';

function App() {
  // splice, push, sortëŠ” ì‚¬ìš©í•˜ë©´ ì•ˆë¨
  // ë°°ì—´ì„ ë³µì‚¬í•˜ê³  ì‹¤í–‰í•´ì•¼ í•¨
  const [user, setuser] = useState([
    {
      id: 1,
      username: "wish",
      email: "swj960515@gmail.com",
      active: true
    },
    {
      id: 2,
      username: "tester",
      email: "example@gmail.com",
      active: false
    },
    {
      id: 3,
      username: "tester2",
      email: "example2@gmail.com",
      active: false
    },
  ]);


  // ì»´í¬ë„ŒíŠ¸ë¥¼ rerendering í•´ì£¼ì§€ ì•Šê³ , 
  // íŠ¹ì • ë³€ìˆ˜ë¥¼ ê³„ì† ê¸°ì–µí•˜ê³  ë˜ëŠ” ë³€í™”ì‹œì¼œì£¼ê³  ì‹¶ì„ ë•Œ
  const nextId = useRef(4);
  const onCreate = () => {
    const u = {
      id: nextId.current,
      username,
      email
    }
    // ë°°ì—´ì— ìƒˆë¡œìš´ ê°’ì„ ì¶”ê°€í•  ë•ŒëŠ” 
    // spread ì—°ì‚°ì„ ì´ìš©í•´ë„ ë˜ê³ , concat í•¨ìˆ˜ë¥¼ ì´ìš©í•´ë„ ë¨
    setuser([...u, u]);
    console.log(nextId.current);
    // ê°’ì´ ë°”ë€Œì–´ë„ ì»´í¬ë„ŒíŠ¸ê°€ rerendering ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
    nextId.current += 1;
    setInputs({
      username: '',
      email: ''
    })
  }

  const [Inputs, setInputs] = useState({
    username: '',
    email: ''
  });

  const { username, email } = Inputs;
  const onChange = (e) => {
    const { name, value } = e.target;
    setInputs({
      ...Inputs,
      [name]:value
    });
  }

  const onRemove = (id) => {
    setuser(user.filter(u=>u.id!==id));
  }

  const onToggle = (id) => {
    setuser(user.map(u=>u.id === id 
      ? {...u, active: !u.active}
      : u
    ));
  }

  return (
    <>
      <CreateUser 
      username={username}
      email={email}
      onChange={onChange}
      onCreate={onCreate}
      />
      <UserList 
      user={user}
      onRemove={onRemove}
      onToggle={onToggle}
      />
    </>
  );
}

export default App;
```

```javascript
// src/UserList.js
import React from 'react';

function User({ user, onRemove, onToggle }) {
    const { username, email, id, active } = user;
    return (
        <div>
            <b style={{
                color: active ? 'green' : 'black',
                cursor: 'pointer'
            }}
             onClick={() => {onToggle(id)}}
            >
                {username}
            </b> 
            <span>({email})</span>
            {/* 
                onRemoveë¥¼ í˜¸ì¶œí•´ì£¼ëŠ” ìµëª…í•¨ìˆ˜ë¥¼ ë„£ì–´ì¤€ë‹¤. 
                onRemove(id)ë§Œìœ¼ë¡œ í˜¸ì¶œí•´ì£¼ë©´ ë Œë”ë§ ì‹œ í•¨ìˆ˜ê°€
                í˜¸ì¶œë˜ì–´ë²„ë ¤ ì‚­ì œëœ ìƒíƒœë¡œ ë Œë”ë§ ëœë‹¤.
            */}
            <button onClick={() => {onRemove(id)}}>ì‚­ì œ</button>
        </div>
    )
}

function UserList({user, onRemove, onToggle}) {
    return(
        <div>
            {
                user.map(u=>(
                    // ìµœì í™” ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ key(ê³ ìœ ê°’)ê°’ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.
                    // keyê°’ì´ ì—†ìœ¼ë©´ ê³ ìœ ì˜ ê°’ì„ íŒë‹¨í•˜ê¸° ì–´ë ¤ì›Œ
                    // ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ë Œë”ë§ ëœë‹¤.
                    <User user={u} key={u.id} onRemove={onRemove} onToggle={onToggle}/>
                ))
            }
        </div>
    );
}
export default UserList;
```


[ğŸ‘ˆğŸ»PREV](https://github.com/ss-won/veloport-react/blob/master/Ch1/md/8.md) |
[NEXTğŸ‘‰ğŸ»](https://github.com/ss-won/veloport-react/blob/master/Ch1/md/10.md) <br>
[ëŒì•„ê°€ê¸°](https://github.com/ss-won/veloport-react)